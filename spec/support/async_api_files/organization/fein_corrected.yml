---
asyncapi: 2.0.0
id: "https://github.com/ideacrew/crm_gateway-server"
info:
  title: SugarCRM Gateway Adapter Service
  version: 0.1.0
  description: This service provides accesss to SugarCRM Customer Relationship Mangement systems
servers:
  production:
    url: 'amqp://localhost:5672/'
    protocol: :amqp
    protocolVersion: "0.9.2"
    description: RabbitMQ Production Server
  test:
    url: 'amqp://localhost:5672/'
    protocol: :amqp
    protocolVersion: "0.9.2"
    description: RabbitMQ Test Server
channels:
  enroll.parties.organizations:
    publish:
      operationId: enroll.parties.organizations.fein_corrected
      summary: Organization FEIN Corrected
      message:
        $ref: "#/components/messages/crm_sugar_crm_contacts_contact_created_event"
        payload:
          type: object
      # bindings:
      #   cc: ''
    subscribe:
      operationId: on_enroll_parties_organizations_fein_corrected
      summary: Organizaation FEIN Corrected
      message:
        $ref: "#/components/messages/crm_sugar_crm_contacts_contact_created_event"
        payload:
          type: object
    bindings:
      amqp:
        is: :routing_key
        binding_version: '0.2.0'
        queue:
          name: on_enroll_parties_organizations_fein_corrected
          durable: true
          auto_delete: true
          vhost: '/'
          exclusive: true
        exchange:
          name: 'enroll.parties.organizations.exchange'
          type: :fanout
          durable: false
          auto_delete: true
          vhost: '/'